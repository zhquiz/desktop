{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.sub.js","webpack:///./node_modules/core-js/modules/es.string.sup.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/views/Hanzi.vue?019b","webpack:///./src/views/Hanzi.vue?c984","webpack:///./src/views/Hanzi.vue?7292","webpack:///./src/views/Hanzi.vue","webpack:///./src/views/Hanzi.vue?20be"],"names":["$","createHTML","forcedStringHTMLMethod","target","proto","forced","sub","this","sup","requireObjectCoercible","quot","module","exports","string","tag","attribute","value","S","String","p1","replace","fails","METHOD_NAME","test","toLowerCase","split","length","render","_vm","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","q","q0","directives","name","rawName","expression","attrs","domProps","composing","evt","openContext","current","_v","_s","i","entries","scopedSlots","_u","key","fn","props","open","_l","h","variants","vocabs","v","simplified","traditional","_e","pinyin","english","sentenceKey","sentences","s","chinese","ref","selected","entry","type","additionalContext","sentenceDef","staticRenderFns","find","$containsString","slice","context","window","frameElement","id","parseInt","getAttribute","parent","setName","qs","filter","indexOf","api","get","params","r","data","result","map","load","loadHanzi","loadVocab","then","Math","random","it","findOne","$route","query","Array","isArray","$router","push","handler","components","ContextMenu","created","onQChange","component"],"mappings":"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","file":"js/hanzi.a221c840.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.es/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sup` method\n// https://tc39.es/ecma262/#sec-string.prototype.sup\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sup') }, {\n  sup: function sup() {\n    return createHTML(this, 'sup', '', '');\n  }\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"HanziPage\"},[_c('form',{staticClass:\"field\",on:{\"submit\":function($event){$event.preventDefault();_vm.q = _vm.q0}}},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.q0),expression:\"q0\"}],staticClass:\"input\",attrs:{\"type\":\"search\",\"name\":\"q\",\"placeholder\":\"Type here to search.\",\"aria-label\":\"search\"},domProps:{\"value\":(_vm.q0)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.q0=$event.target.value}}})])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-6 entry-display\"},[_c('div',{staticClass:\"hanzi-display clickable font-han\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, _vm.current, 'hanzi'); })($event)}}},[_vm._v(\" \"+_vm._s(_vm.current)+\" \")]),_c('div',{staticClass:\"buttons has-addons\"},[_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.i < 1},on:{\"click\":function($event){_vm.i--},\"keypress\":function($event){_vm.i--}}},[_vm._v(\" Previous \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.i > _vm.entries.length - 2},on:{\"click\":function($event){_vm.i++},\"keypress\":function($event){_vm.i++}}},[_vm._v(\" Next \")])])]),_c('div',{staticClass:\"column is-6\"},[_c('b-collapse',{staticClass:\"card\",attrs:{\"animation\":\"slide\",\"open\":!!_vm.sub.length},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return _c('div',{staticClass:\"card-header\",attrs:{\"role\":\"button\"}},[_c('h2',{staticClass:\"card-header-title\"},[_vm._v(\"Subcompositions\")]),_c('a',{staticClass:\"card-header-icon\",attrs:{\"role\":\"button\"}},[_c('fontawesome',{attrs:{\"icon\":props.open ? 'caret-down' : 'caret-up'}})],1)])}}])},[_c('div',{staticClass:\"card-content\"},_vm._l((_vm.sub),function(h){return _c('span',{key:h,staticClass:\"font-han clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, h, 'hanzi'); })($event)}}},[_vm._v(\" \"+_vm._s(h)+\" \")])}),0)]),_c('b-collapse',{staticClass:\"card\",attrs:{\"animation\":\"slide\",\"open\":!!_vm.sup.length},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return _c('div',{staticClass:\"card-header\",attrs:{\"role\":\"button\"}},[_c('h2',{staticClass:\"card-header-title\"},[_vm._v(\"Supercompositions\")]),_c('a',{staticClass:\"card-header-icon\",attrs:{\"role\":\"button\"}},[_c('fontawesome',{attrs:{\"icon\":props.open ? 'caret-down' : 'caret-up'}})],1)])}}])},[_c('div',{staticClass:\"card-content\"},_vm._l((_vm.sup),function(h){return _c('span',{key:h,staticClass:\"font-han clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, h, 'hanzi'); })($event)}}},[_vm._v(\" \"+_vm._s(h)+\" \")])}),0)]),_c('b-collapse',{staticClass:\"card\",attrs:{\"animation\":\"slide\",\"open\":!!_vm.variants.length},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return _c('div',{staticClass:\"card-header\",attrs:{\"role\":\"button\"}},[_c('h2',{staticClass:\"card-header-title\"},[_vm._v(\"Variants\")]),_c('a',{staticClass:\"card-header-icon\",attrs:{\"role\":\"button\"}},[_c('fontawesome',{attrs:{\"icon\":props.open ? 'caret-down' : 'caret-up'}})],1)])}}])},[_c('div',{staticClass:\"card-content\"},_vm._l((_vm.variants),function(h){return _c('span',{key:h,staticClass:\"font-han clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, h, 'hanzi'); })($event)}}},[_vm._v(\" \"+_vm._s(h)+\" \")])}),0)]),_c('b-collapse',{staticClass:\"card\",attrs:{\"animation\":\"slide\",\"open\":!!_vm.vocabs.length},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return _c('div',{staticClass:\"card-header\",attrs:{\"role\":\"button\"}},[_c('h2',{staticClass:\"card-header-title\"},[_vm._v(\"Vocabularies\")]),_c('a',{staticClass:\"card-header-icon\",attrs:{\"role\":\"button\"}},[_c('fontawesome',{attrs:{\"icon\":props.open ? 'caret-down' : 'caret-up'}})],1)])}}])},[_c('div',{staticClass:\"card-content\"},_vm._l((_vm.vocabs),function(v,i){return _c('div',{key:i,staticClass:\"long-item\"},[_c('span',{staticClass:\"clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, v.simplified, 'vocab'); })($event)}}},[_vm._v(\" \"+_vm._s(v.simplified)+\" \")]),(v.traditional)?_c('span',{staticClass:\"clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, v.traditional, 'vocab'); })($event)}}},[_vm._v(\" \"+_vm._s(v.traditional)+\" \")]):_vm._e(),_c('span',{staticClass:\"pinyin\"},[_vm._v(\"[\"+_vm._s(v.pinyin)+\"]\")]),_c('span',[_vm._v(_vm._s(v.english))])])}),0)]),_c('b-collapse',{key:_vm.sentenceKey,staticClass:\"card\",attrs:{\"animation\":\"slide\",\"open\":!!_vm.sentences().length},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return _c('div',{staticClass:\"card-header\",attrs:{\"role\":\"button\"}},[_c('h2',{staticClass:\"card-header-title\"},[_vm._v(\"Sentences\")]),_c('a',{staticClass:\"card-header-icon\",attrs:{\"role\":\"button\"}},[_c('fontawesome',{attrs:{\"icon\":props.open ? 'caret-down' : 'caret-up'}})],1)])}}])},[_c('div',{staticClass:\"card-content\"},_vm._l((_vm.sentences()),function(s,i){return _c('div',{key:i,staticClass:\"long-item\"},[_c('span',{staticClass:\"clickable\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function (evt) { return _vm.openContext(evt, s.chinese, 'sentence'); })($event)}}},[_vm._v(\" \"+_vm._s(s.chinese)+\" \")]),_c('span',[_vm._v(_vm._s(s.english))])])}),0)])],1)])]),_c('ContextMenu',{ref:\"context\",attrs:{\"entry\":_vm.selected.entry,\"type\":_vm.selected.type,\"additional\":_vm.additionalContext,\"pinyin\":_vm.sentenceDef.pinyin,\"english\":_vm.sentenceDef.english}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Ref, Vue, Watch } from 'vue-property-decorator'\nimport ContextMenu from '@/components/ContextMenu.vue'\nimport { api } from '@/assets/api'\nimport { findSentence, zhSentence } from '@/assets/db'\n\n@Component<HanziPage>({\n  components: {\n    ContextMenu\n  },\n  async created () {\n    this.q0 = this.q\n\n    if (this.additionalContext[0]) {\n      await this.additionalContext[0].handler()\n    }\n\n    this.onQChange(this.q0)\n  }\n})\nexport default class HanziPage extends Vue {\n  @Ref() context!: ContextMenu\n\n  entries: string[] = []\n  i = 0\n\n  sub: string[] = []\n  sup: string[] = []\n  variants: string[] = []\n  vocabs: Record<string, unknown>[] = []\n\n  selected: {\n    entry: string;\n    type: string;\n  } = {\n    entry: '',\n    type: ''\n  }\n\n  q0 = ''\n\n  sentenceKey = 0\n\n  sentences () {\n    return zhSentence\n      .find({\n        chinese: {\n          $containsString: this.current\n        }\n      })\n      .slice(0, 10)\n  }\n\n  get sentenceDef () {\n    if (this.selected.type !== 'sentence') {\n      return {}\n    }\n\n    const it = zhSentence.findOne({ chinese: this.selected.entry })\n    if (!it) {\n      return {}\n    }\n\n    return {\n      pinyin: {\n        [this.selected.entry]: it.pinyin\n      },\n      english: {\n        [this.selected.entry]: it.english\n      }\n    }\n  }\n\n  get q () {\n    const q = this.$route.query.q\n    return (Array.isArray(q) ? q[0] : q) || ''\n  }\n\n  set q (q: string) {\n    this.$router.push({ query: { q } })\n  }\n\n  get current () {\n    return this.entries[this.i]\n  }\n\n  get additionalContext () {\n    if (!this.q) {\n      return [\n        {\n          name: 'Reload',\n          handler: async () => {\n            const {\n              data: { result }\n            } = await api.get<{\n              result: string;\n            }>('/api/hanzi/random')\n\n            this.q0 = result\n          }\n        }\n      ]\n    }\n\n    return []\n  }\n\n  openContext (\n    evt: MouseEvent,\n    entry = this.selected.entry,\n    type = this.selected.type\n  ) {\n    this.selected = { entry, type }\n    this.context.open(evt)\n  }\n\n  @Watch('q')\n  async onQChange (q: string) {\n    const { frameElement } = window\n    if (frameElement) {\n      const id = parseInt(frameElement.getAttribute('data-id') || '')\n      window.parent.setName(id, (q ? q + ' - ' : '') + 'Hanzi')\n    }\n\n    if (/\\p{sc=Han}/u.test(q)) {\n      const qs = q.split('').filter((h) => /\\p{sc=Han}/u.test(h))\n      this.entries = qs.filter((h, i) => qs.indexOf(h) === i)\n    } else {\n      const r = await api.get<{\n        result: {\n          entry: string;\n        }[];\n      }>('/api/hanzi/q', {\n        params: {\n          q\n        }\n      })\n      this.entries = r.data.result.map(({ entry }) => entry)\n    }\n\n    this.i = 0\n    this.load()\n  }\n\n  @Watch('current')\n  load () {\n    if (this.current) {\n      this.loadHanzi()\n      this.loadVocab()\n    } else {\n      this.sub = []\n      this.sup = []\n      this.variants = []\n      this.vocabs = []\n    }\n  }\n\n  async loadHanzi () {\n    const r = await api\n      .get('/api/hanzi', {\n        params: {\n          entry: this.current\n        }\n      })\n      .then((r) => r.data)\n\n    this.sub = [...r.sub]\n    this.sup = [...r.sup]\n    this.variants = [...r.variants]\n  }\n\n  async loadVocab () {\n    const {\n      data: { result }\n    } = await api.get('/api/vocab/q', {\n      params: {\n        q: this.current\n      }\n    })\n    this.vocabs = result\n  }\n\n  async loadSentences () {\n    if (await findSentence(this.current, 10)) {\n      this.sentenceKey = Math.random()\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hanzi.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hanzi.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Hanzi.vue?vue&type=template&id=10d59776&scoped=true&\"\nimport script from \"./Hanzi.vue?vue&type=script&lang=ts&\"\nexport * from \"./Hanzi.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Hanzi.vue?vue&type=style&index=0&id=10d59776&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10d59776\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hanzi.vue?vue&type=style&index=0&id=10d59776&scoped=true&lang=css&\""],"sourceRoot":""}