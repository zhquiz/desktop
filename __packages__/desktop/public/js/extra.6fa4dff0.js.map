{"version":3,"sources":["webpack:///./src/views/Extra.vue?f424","webpack:///./src/views/Extra.vue?f41e","webpack:///./src/views/Extra.vue?1ef3","webpack:///./src/views/Extra.vue","webpack:///./src/views/Extra.vue?4eed"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","q","q0","attrs","directives","name","rawName","value","expression","domProps","target","composing","onNewItem","_v","tableData","tableHeader","count","perPage","page","sort","key","type","onTableContextmenu","onSort","model","callback","$$v","isEditModal","selected","id","$set","chinese","length","_e","doUpdate","doCreate","ref","description","additionalContext","doDelete","staticRenderFns","field","label","sortable","width","pinyin","english","tag","handler","openEditModal","keepRest","toneToNumber","api","get","params","select","data","result","put","existing","context","addToQuiz","$buefy","snackbar","open","load","entry","entries","source","patch","delete","row","evt","$route","query","Array","isArray","$router","push","components","ContextMenu","created","window","frameElement","parseInt","getAttribute","parent","setName","component"],"mappings":"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","file":"js/extra.6fa4dff0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"ExtraPage container\"},[_c('form',{staticClass:\"field is-grouped\",on:{\"submit\":function($event){$event.preventDefault();_vm.q = _vm.q0}}},[_c('b-field',{staticClass:\"is-expanded\",attrs:{\"label\":\"Search\",\"label-position\":\"on-border\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.q0),expression:\"q0\"}],staticClass:\"input\",attrs:{\"type\":\"search\",\"name\":\"q\",\"placeholder\":\"Type here to search\",\"aria-label\":\"search\"},domProps:{\"value\":(_vm.q0)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.q0=$event.target.value}}})]),_c('button',{staticClass:\"control button is-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.onNewItem}},[_vm._v(\" Add new item \")])],1),_c('b-table',{attrs:{\"data\":_vm.tableData,\"columns\":_vm.tableHeader,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.count,\"per-page\":_vm.perPage,\"current-page\":_vm.page,\"backend-sorting\":\"\",\"default-sort\":[_vm.sort.key, _vm.sort.type]},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"contextmenu\":_vm.onTableContextmenu,\"sort\":_vm.onSort}})],1),_c('b-modal',{model:{value:(_vm.isEditModal),callback:function ($$v) {_vm.isEditModal=$$v},expression:\"isEditModal\"}},[_c('div',{staticClass:\"card\"},[_c('header',{staticClass:\"card-header\"},[(!_vm.selected.id)?_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"New item\")]):_c('div',{staticClass:\"card-header-title\"},[_vm._v(\"Edit item\")])]),_c('div',{staticClass:\"card-content\"},[_c('b-field',{attrs:{\"label\":\"Chinese\"}},[_c('b-input',{attrs:{\"placeholder\":\"Must not be empty\"},model:{value:(_vm.selected.chinese),callback:function ($$v) {_vm.$set(_vm.selected, \"chinese\", $$v)},expression:\"selected.chinese\"}})],1),_c('b-field',{attrs:{\"label\":\"Pinyin\"}},[_c('b-input',{attrs:{\"placeholder\":\"Must not be empty\"},model:{value:(_vm.selected.pinyin),callback:function ($$v) {_vm.$set(_vm.selected, \"pinyin\", $$v)},expression:\"selected.pinyin\"}})],1),_c('b-field',{attrs:{\"label\":\"English\"}},[_c('b-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"Must not be empty\"},model:{value:(_vm.selected.english),callback:function ($$v) {_vm.$set(_vm.selected, \"english\", $$v)},expression:\"selected.english\"}})],1),_c('b-field',{attrs:{\"label\":\"Type\"}},[_c('b-select',{model:{value:(_vm.selected.type),callback:function ($$v) {_vm.$set(_vm.selected, \"type\", $$v)},expression:\"selected.type\"}},[_c('option',{attrs:{\"value\":\"vocab\"}},[_vm._v(\"Vocab\")]),_c('option',{attrs:{\"value\":\"sentence\"}},[_vm._v(\"Sentence\")]),(_vm.selected.chinese.length === 1)?_c('option',{attrs:{\"value\":\"hanzi\"}},[_vm._v(\" Hanzi \")]):_vm._e()])],1),_c('b-field',{attrs:{\"label\":\"Description\"}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.selected.description),callback:function ($$v) {_vm.$set(_vm.selected, \"description\", $$v)},expression:\"selected.description\"}})],1),_c('b-field',{attrs:{\"label\":\"Tag\"}},[_c('b-input',{model:{value:(_vm.selected.tag),callback:function ($$v) {_vm.$set(_vm.selected, \"tag\", $$v)},expression:\"selected.tag\"}})],1)],1),_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item\"},[_c('button',{staticClass:\"button is-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.selected.id ? _vm.doUpdate() : _vm.doCreate()}}},[_vm._v(\" Save \")]),_c('button',{staticClass:\"button is-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isEditModal = false}}},[_vm._v(\" Cancel \")])])])])]),_c('ContextMenu',{ref:\"context\",attrs:{\"id\":_vm.selected.id,\"entry\":_vm.selected.chinese,\"type\":_vm.selected.type || 'vocab',\"description\":_vm.selected.description,\"source\":\"extra\",\"additional\":_vm.additionalContext},on:{\"deleted\":_vm.doDelete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Ref, Vue, Watch } from 'vue-property-decorator'\nimport ContextMenu from '@/components/ContextMenu.vue'\nimport { api } from '@/assets/api'\nimport toPinyin from 'chinese-to-pinyin'\n\ninterface IExtra {\n  id?: string;\n  chinese: string;\n  pinyin: string;\n  english: string;\n  type: 'hanzi' | 'vocab' | 'sentence';\n  description: string;\n  tag: string;\n}\n\n@Component<ExtraPage>({\n  components: {\n    ContextMenu\n  },\n  created () {\n    const { frameElement } = window\n    if (frameElement) {\n      const id = parseInt(frameElement.getAttribute('data-id') || '')\n      window.parent.setName(id, 'Extra')\n    }\n    this.load()\n  }\n})\nexport default class ExtraPage extends Vue {\n  @Ref() context!: ContextMenu\n\n  q0 = ''\n  count = 0\n  perPage = 10\n  page = 1\n  tableData: IExtra[] = []\n  readonly tableHeader = [\n    { field: 'chinese', label: 'Chinese', sortable: true },\n    { field: 'pinyin', label: 'Pinyin', sortable: true },\n    { field: 'english', label: 'English', sortable: true, width: '40vw' }\n  ]\n\n  isEditModal = false\n\n  sort = {\n    key: 'updatedAt',\n    type: 'desc'\n  }\n\n  selected: IExtra = {\n    id: '',\n    chinese: '',\n    pinyin: '',\n    english: '',\n    type: 'vocab',\n    description: '',\n    tag: ''\n  }\n\n  additionalContext = [\n    {\n      name: 'Edit item',\n      handler: () => {\n        this.openEditModal()\n      }\n    },\n    {\n      name: 'Delete item',\n      handler: () => {\n        this.doDelete()\n      }\n    }\n  ]\n\n  get q () {\n    const q = this.$route.query.q\n    return (Array.isArray(q) ? q[0] : q) || ''\n  }\n\n  set q (q: string) {\n    this.$router.push({ query: { q } })\n  }\n\n  openEditModal () {\n    if (!this.selected.pinyin) {\n      this.selected.pinyin = toPinyin(this.selected.chinese, {\n        keepRest: true,\n        toneToNumber: true\n      })\n    }\n\n    this.isEditModal = true\n  }\n\n  @Watch('page')\n  @Watch('perPage')\n  @Watch('q')\n  async load () {\n    const {\n      data: { result, count }\n    } = await api.get('/api/extra/q', {\n      params: {\n        q: this.q,\n        page: this.page,\n        perPage: this.perPage,\n        sort: [`${this.sort.type === 'desc' ? '-' : ''}${this.sort.key}`],\n        select: [\n          'id',\n          'chinese',\n          'pinyin',\n          'english',\n          'type',\n          'description',\n          'tag'\n        ]\n      }\n    })\n\n    this.tableData = result\n    this.count = count\n  }\n\n  async doCreate () {\n    this.selected.description = this.selected.description || ' '\n    this.selected.tag = this.selected.tag || ' '\n\n    const {\n      data: { existing, id }\n    } = await api.put('/api/extra', this.selected)\n\n    if (id) {\n      await this.context.addToQuiz()\n      this.$buefy.snackbar.open(`Added extra: ${this.selected.chinese} to quiz`)\n\n      await this.load()\n    } else if (existing) {\n      const { type, entry } = existing\n      await api.put('/api/quiz', {\n        entries: [entry],\n        type,\n        source: 'extra'\n      })\n\n      this.$buefy.snackbar.open(`Added ${type}: ${entry} to quiz`)\n    }\n\n    this.isEditModal = false\n    await this.load()\n  }\n\n  async doUpdate () {\n    this.selected.description = this.selected.description || ' '\n    this.selected.tag = this.selected.tag || ' '\n\n    await api.patch('/api/extra', this.selected, {\n      params: {\n        id: this.selected.id\n      }\n    })\n\n    this.$buefy.snackbar.open(`Updated extra: ${this.selected.chinese}`)\n\n    this.isEditModal = false\n    await this.load()\n  }\n\n  async doDelete () {\n    await api.delete('/api/extra', {\n      params: {\n        id: this.selected.id\n      }\n    })\n\n    this.$buefy.snackbar.open(`Deleted extra: ${this.selected.chinese}`)\n\n    await this.load()\n  }\n\n  async onNewItem () {\n    this.selected = {\n      id: '',\n      chinese: '',\n      pinyin: '',\n      english: '',\n      type: 'vocab',\n      description: '',\n      tag: ''\n    }\n\n    this.isEditModal = true\n  }\n\n  async onTableContextmenu (row: IExtra, evt: MouseEvent) {\n    evt.preventDefault()\n\n    this.selected = row\n    await this.context.open(evt)\n  }\n\n  async onSort (key: string, type: string) {\n    this.sort.key = key\n    this.sort.type = type\n    await this.load()\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Extra.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Extra.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Extra.vue?vue&type=template&id=74632afc&scoped=true&\"\nimport script from \"./Extra.vue?vue&type=script&lang=ts&\"\nexport * from \"./Extra.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Extra.vue?vue&type=style&index=0&id=74632afc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74632afc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Extra.vue?vue&type=style&index=0&id=74632afc&lang=scss&scoped=true&\""],"sourceRoot":""}