{"version":3,"sources":["webpack:///./src/views/Settings.vue?ebb0","webpack:///./src/views/Settings.vue?c4be","webpack:///./src/views/Settings.vue?b0c6","webpack:///./src/views/Settings.vue","webpack:///./src/views/Settings.vue?f621"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","doSave","attrs","lvRange","model","value","callback","$$v","lv","expression","_v","_s","_l","Array","fill","map","el","i","val","key","sentenceLengthRange","sentenceLength","_m","staticRenderFns","clone","o","JSON","parse","stringify","api","patch","levelMin","level","sentenceMin","sentenceMax","undefined","$accessor","SET_SETTINGS","$buefy","snackbar","open","$store","state","user","created","window","frameElement","id","parseInt","getAttribute","parent","setName","settings","component"],"mappings":"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","file":"js/settings.7d6d5ce1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"SettingsPage\"},[_c('form',{staticClass:\"container\",on:{\"submit\":function($event){$event.preventDefault();return _vm.doSave($event)}}},[_c('div',{staticClass:\"flex flex-row items-center\"},[_c('b-field',{staticClass:\"flex-grow\",attrs:{\"label\":\"Level Range\"}},[_c('b-slider',{attrs:{\"min\":_vm.lvRange[0],\"max\":_vm.lvRange[1],\"lazy\":\"\"},model:{value:(_vm.lv),callback:function ($$v) {_vm.lv=$$v},expression:\"lv\"}},[_c('b-slider-tick',{attrs:{\"value\":_vm.lvRange[0]}},[_vm._v(_vm._s(_vm.lvRange[0]))]),_vm._l((Array(_vm.lvRange[1] / 10)\n                .fill(10)\n                .map(function (el, i) { return el * (i + 1); })),function(val){return [_c('b-slider-tick',{key:val,attrs:{\"value\":val}},[_vm._v(_vm._s(val))])]})],2)],1),_c('div',{staticClass:\"label-level\"},[_vm._v(_vm._s(_vm.lv[0])+\" - \"+_vm._s(_vm.lv[1]))])],1),_c('div',{staticClass:\"flex flex-row items-center\"},[_c('b-field',{staticClass:\"flex-grow\",attrs:{\"label\":\"Sentence Length\"}},[_c('b-slider',{attrs:{\"min\":_vm.sentenceLengthRange[0],\"max\":_vm.sentenceLengthRange[1],\"lazy\":\"\"},model:{value:(_vm.sentenceLength),callback:function ($$v) {_vm.sentenceLength=$$v},expression:\"sentenceLength\"}},[_c('b-slider-tick',{attrs:{\"value\":_vm.sentenceLengthRange[0]}},[_vm._v(_vm._s(_vm.sentenceLengthRange[0]))]),_vm._l((Array(_vm.sentenceLengthRange[1] / 5 - 1)\n                .fill(5)\n                .map(function (el, i) { return el * (i + 1); })),function(val){return [_c('b-slider-tick',{key:val,attrs:{\"value\":val}},[_vm._v(_vm._s(val))])]}),_c('b-slider-tick',{attrs:{\"value\":_vm.sentenceLengthRange[1]}},[_vm._v(\" Inf \")])],2)],1),_c('div',{staticClass:\"label-level\"},[_vm._v(\" \"+_vm._s(_vm.sentenceLength[0])+\" - \"+_vm._s(_vm.sentenceLength[1] === _vm.sentenceLengthRange[1] ? 'Inf' : _vm.sentenceLength[1])+\" \")])],1),_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-row\"},[_c('button',{staticClass:\"button is-success\",attrs:{\"type\":\"submit\",\"aria-label\":\"save\"}},[_vm._v(\" Save \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { api } from '@/assets/api'\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component<SettingsPage>({\n  async created () {\n    const { frameElement } = window\n    if (frameElement) {\n      const id = parseInt(frameElement.getAttribute('data-id') || '')\n      window.parent.setName(id, 'Settings')\n    }\n\n    this.lv = [\n      this.$accessor.settings.levelMin || this.lvRange[0],\n      this.$accessor.settings.level || this.lvRange[1]\n    ]\n    this.sentenceLength = [\n      this.$accessor.settings.sentenceMin || this.sentenceLengthRange[0],\n      this.$accessor.settings.sentenceMax || this.sentenceLengthRange[1]\n    ]\n  }\n})\nexport default class SettingsPage extends Vue {\n  readonly lvRange = [1, 60]\n  readonly sentenceLengthRange = [2, 20]\n\n  lv = this.clone(this.lvRange)\n  sentenceLength = this.clone(this.sentenceLengthRange)\n\n  get email () {\n    // return this.$accessor.user || ''\n    return this.$store.state.user\n  }\n\n  clone<T> (o: T): T {\n    return JSON.parse(JSON.stringify(o))\n  }\n\n  async doSave () {\n    await api.patch('/api/user/', {\n      levelMin: this.lv[0],\n      level: this.lv[1],\n      sentenceMin: this.sentenceLength[0],\n      sentenceMax:\n        this.sentenceLength[1] === this.sentenceLengthRange[1]\n          ? undefined\n          : this.sentenceLength[1]\n    })\n    this.$accessor.SET_SETTINGS({\n      levelMin: this.lv[0],\n      level: this.lv[1],\n      sentenceMin: this.sentenceLength[0],\n      sentenceMax:\n        this.sentenceLength[1] === this.sentenceLengthRange[1]\n          ? null\n          : this.sentenceLength[1]\n    })\n    this.$buefy.snackbar.open('Saved')\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=77e63405&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts&\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=77e63405&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77e63405\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=77e63405&scoped=true&lang=css&\""],"sourceRoot":""}