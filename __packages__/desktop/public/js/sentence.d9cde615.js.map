{"version":3,"sources":["webpack:///./src/views/Sentence.vue?40b1","webpack:///./src/views/Sentence.vue?4342","webpack:///./src/views/Sentence.vue?3852","webpack:///./src/views/Sentence.vue?be70","webpack:///./src/views/Sentence.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","q","q0","directives","name","rawName","value","expression","attrs","domProps","target","composing","tablePagedData","count","perPage","page","onTableContextmenu","scopedSlots","_u","key","fn","props","_v","_s","row","chinese","english","ref","selected","staticRenderFns","window","frameElement","id","parseInt","getAttribute","parent","setName","api","get","params","select","then","r","data","result","map","split","evt","context","open","$route","query","Array","isArray","$router","push","components","ContextMenu","created","reload","component"],"mappings":"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","file":"js/sentence.d9cde615.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sentence.vue?vue&type=style&index=0&id=51d547c2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"SentencePage container\"},[_c('form',{staticClass:\"field\",on:{\"submit\":function($event){$event.preventDefault();_vm.q = _vm.q0}}},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.q0),expression:\"q0\"}],staticClass:\"input\",attrs:{\"type\":\"search\",\"name\":\"q\",\"placeholder\":\"Type here to search.\",\"aria-label\":\"search\"},domProps:{\"value\":(_vm.q0)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.q0=$event.target.value}}})])]),_c('b-table',{attrs:{\"data\":_vm.tablePagedData,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.count,\"per-page\":_vm.perPage,\"current-page\":_vm.page},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"contextmenu\":_vm.onTableContextmenu}},[_c('b-table-column',{attrs:{\"field\":\"chinese\",\"label\":\"Chinese\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('span',{staticClass:\"hover-blue cursor-pointer\"},[_vm._v(\" \"+_vm._s(props.row.chinese)+\" \")])]}}])}),_c('b-table-column',{attrs:{\"field\":\"english\",\"label\":\"English\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.row.english)+\" \")]}}])})],1)],1),_c('ContextMenu',{ref:\"context\",attrs:{\"type\":\"sentence\",\"entry\":_vm.selected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch, Ref } from 'vue-property-decorator'\nimport ContextMenu from '@/components/ContextMenu.vue'\nimport { api } from '@/assets/api'\n\n@Component<SentencePage>({\n  components: {\n    ContextMenu\n  },\n  created () {\n    this.q0 = this.q\n    this.reload()\n  }\n})\nexport default class SentencePage extends Vue {\n  @Ref() context!: ContextMenu\n\n  q0 = ''\n  tablePagedData: Record<string, unknown>[] = []\n  count = 0\n  perPage = 5\n  page = 1\n\n  selected = ''\n\n  get q () {\n    const q = this.$route.query.q\n    return (Array.isArray(q) ? q[0] : q) || ''\n  }\n\n  set q (q: string) {\n    this.$router.push({ query: { q } })\n  }\n\n  @Watch('page')\n  @Watch('perPage')\n  @Watch('q')\n  async reload () {\n    const { frameElement } = window\n    if (frameElement) {\n      const id = parseInt(frameElement.getAttribute('data-id') || '')\n      window.parent.setName(id, (this.q ? this.q + ' - ' : '') + 'Sentence')\n    }\n\n    const { result, count } = await api\n      .get<{\n        result: {\n          chinese: string;\n          english: string;\n        }[];\n        count: number;\n      }>('/api/sentence/q', {\n        params: {\n          q: this.q,\n          page: this.page,\n          perPage: this.perPage,\n          select: 'chinese,english'\n        }\n      })\n      .then((r) => r.data)\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.tablePagedData = result.map((r: any) => ({\n      chinese: r.chinese,\n      english: r.english.split('\\x1f')[0]\n    }))\n    this.count = count\n  }\n\n  async onTableContextmenu (row: { chinese: string }, evt: MouseEvent) {\n    evt.preventDefault()\n\n    this.selected = row.chinese\n    this.context.open(evt)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sentence.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sentence.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Sentence.vue?vue&type=template&id=51d547c2&scoped=true&\"\nimport script from \"./Sentence.vue?vue&type=script&lang=ts&\"\nexport * from \"./Sentence.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Sentence.vue?vue&type=style&index=0&id=51d547c2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51d547c2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}